<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Java, Scala, Python, 大数据, Hadoop, Spark" />










<meta property="og:type" content="website">
<meta property="og:title" content="异度部落格">
<meta property="og:url" content="http://www.yidooo.net/page/12/index.html">
<meta property="og:site_name" content="异度部落格">
<meta property="article:author" content="核动力蜗牛">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.yidooo.net/page/12/"/>





  <title>异度部落格 - 学习是一种生活态度。</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?7935dce3b8c7c4adacbbff4e2533811b";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




<meta name="generator" content="Hexo 4.2.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">异度部落格</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">学习是一种生活态度。</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于我
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.yidooo.net/2011/11/27/oracle-query-results-automatically-generate-a-serial-number.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="核动力蜗牛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://en.gravatar.com/userimage/132614578/1525cb3f68df290f2720631caf872dff.jpg?size=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="异度部落格">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/11/27/oracle-query-results-automatically-generate-a-serial-number.html" itemprop="url">Oracle查询结果自动生成序号</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-11-27T00:00:00+08:00">
                2011-11-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Database/" itemprop="url" rel="index">
                    <span itemprop="name">Database</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Database/Oracle/" itemprop="url" rel="index">
                    <span itemprop="name">Oracle</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一般情况下，可以如下：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">rownum</span>, a <span class="keyword">from</span> A;</span><br></pre></td></tr></table></figure>
<p>但是当后面有多表关联，order by排序的时候，</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">rownum</span>, a <span class="keyword">from</span> A，B <span class="keyword">where</span> A.a=B.b <span class="keyword">order</span> <span class="keyword">by</span> A.a;</span><br></pre></td></tr></table></figure>
<p>rownum就可能会乱了。</p>
<p>这时候，可以利用分析函数rank()来实现：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">rank</span>() <span class="keyword">over</span>(<span class="keyword">order</span> <span class="keyword">by</span> t.b) rowno, t.a, t.c <span class="keyword">from</span> <span class="keyword">test</span> t <span class="keyword">order</span> <span class="keyword">by</span> t.b;</span><br></pre></td></tr></table></figure>
<p>这样就既可以排序，又可以自动加上连续的序号了。</p>
<p>参考资料：<br><a href="http://yuaoi.iteye.com/blog/767889" target="_blank" rel="noopener">http://yuaoi.iteye.com/blog/767889</a><br><a href="http://www.cnblogs.com/mycoding/archive/2010/05/29/1747065.html" target="_blank" rel="noopener">http://www.cnblogs.com/mycoding/archive/2010/05/29/1747065.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.yidooo.net/2011/11/27/oracle-sql-front-end-complement-quot0quot.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="核动力蜗牛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://en.gravatar.com/userimage/132614578/1525cb3f68df290f2720631caf872dff.jpg?size=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="异度部落格">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/11/27/oracle-sql-front-end-complement-quot0quot.html" itemprop="url">ORACLE SQL 前端补“0”</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-11-27T00:00:00+08:00">
                2011-11-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Database/" itemprop="url" rel="index">
                    <span itemprop="name">Database</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Database/Oracle/" itemprop="url" rel="index">
                    <span itemprop="name">Oracle</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1）LPAD方法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">LPAD</span>(sal,<span class="number">8</span>,<span class="string">'0'</span>) <span class="keyword">FROM</span></span><br></pre></td></tr></table></figure>
<p>2）TO_CHAR 方法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TO_CHAR(sal,<span class="string">'00000000'</span>) <span class="keyword">From</span></span><br></pre></td></tr></table></figure>
<p>3）SUBSTR方法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">SUBSTR</span>(<span class="string">'00000000'</span>||sal,<span class="number">-8</span>) <span class="keyword">FROM</span></span><br></pre></td></tr></table></figure>
<p>===================================================================<br>补充：</p>
<blockquote>
<p>LPAD和RPAD用法：<br>Lpad()函数的用法：<br>lpad函数将左边的字符串填充一些特定的字符其语法格式如下：<br>lpad(string,n,[pad_string])<br>string：可是字符或者参数<br>n：字符的长度，是返回的字符串的数量，如果这个数量比原字符串的长度要短，lpad函数将会把字符串截取成从左到右的n个字符;<br>pad_string：是个可选参数，这个字符串是要粘贴到string的左边，如果这个参数未写，lpad函数将会在string的左边粘贴空格。<br>例如：<br>lpad(‘tech’, 7); 将返回’ tech’<br>lpad(‘tech’, 2); 将返回’te’<br>lpad(‘tech’, 8, ‘0’); 将返回’0000tech’<br>lpad(‘tech on the net’, 15, ‘z’); 将返回 ‘tech on the net’<br>lpad(‘tech on the net’, 16, ‘z’); 将返回 ‘ztech on the net’</p>
</blockquote>
<blockquote>
<p>Rpad()函数的用法：<br>rpad函数将右边的字符串填充一些特定的字符其语法格式如下：<br>rpad(string,n,[pad_string])<br>string：可是字符或者参数<br>n：字符的长度，是返回的字符串的数量，如果这个数量比原字符串的长度要短，lpad函数将会把字符串截取成从左到右的n个字符;<br>pad_string：是个可选参数，这个字符串是要粘贴到string的右边，如果这个参数未写，lpad函数将会在string的右边粘贴空格。<br>例如：<br>rpad(‘tech’, 7); 将返回’ tech’<br>rpad(‘tech’, 2); 将返回’te’<br>rpad(‘tech’, 8, ‘0’); 将返回’tech0000’<br>rpad(‘tech on the net’, 15, ‘z’); 将返回 ‘tech on the net’<br>rpad(‘tech on the net’, 16, ‘z’); 将返回 ‘tech on the netz’</p>
</blockquote>
<p>参考资料：<a href="http://hi.baidu.com/ljw460/blog/item/5788594a1b55ff2608f7efc5.html" target="_blank" rel="noopener">http://hi.baidu.com/ljw460/blog/item/5788594a1b55ff2608f7efc5.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.yidooo.net/2011/11/21/pylucene-study-notes-document-indexing-and-retrieval.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="核动力蜗牛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://en.gravatar.com/userimage/132614578/1525cb3f68df290f2720631caf872dff.jpg?size=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="异度部落格">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/11/21/pylucene-study-notes-document-indexing-and-retrieval.html" itemprop="url">PyLucene学习笔记 文件索引及检索</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-11-21T00:00:00+08:00">
                2011-11-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Search-Engine/" itemprop="url" rel="index">
                    <span itemprop="name">Search Engine</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div style="word-break: break-word; word-wrap: break-word; overflow-y: auto; padding: 0px; margin: 5px;">

<p>一、使用Indexer建立文本文件索引</p>
<p>这里简化为对某一目录下面的所有后缀为“.py”的文件建立索引。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">Created on 2011-11-16</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">@author: killua</span></span><br><span class="line"><span class="string">@E-mail:killua_hzl@163.com</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> timedelta</span><br><span class="line"><span class="keyword">from</span> lucene <span class="keyword">import</span> \</span><br><span class="line">    IndexWriter, StandardAnalyzer, Document, Field, \</span><br><span class="line">    InputStreamReader, FileInputStream, Version, SimpleFSDirectory, File, \</span><br><span class="line">    initVM, CLASSPATH</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Indexer</span><span class="params">(object)</span>:</span></span><br><span class="line">    _indexDir = <span class="string">""</span></span><br><span class="line">    _dataDir = <span class="string">""</span></span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, indexDir, dataDir)</span>:</span></span><br><span class="line">        self._indexDir = indexDir</span><br><span class="line">        self._dataDir = dataDir</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> (os.path.exists(self._dataDir) <span class="keyword">and</span> os.path.isdir(self._dataDir)):</span><br><span class="line">            <span class="keyword">raise</span> IOError, <span class="string">"%s isn't existed or is not a directory"</span> % (self._dataDir)</span><br><span class="line">        </span><br><span class="line">        dir = SimpleFSDirectory(File(self._indexDir))</span><br><span class="line">        writer = IndexWriter(dir, StandardAnalyzer(Version.LUCENE_CURRENT),</span><br><span class="line">                             <span class="literal">True</span>, IndexWriter.MaxFieldLength.LIMITED)</span><br><span class="line">        writer.setUseCompoundFile(<span class="literal">False</span>);</span><br><span class="line">        self.indexDirectory(writer, self._dataDir)</span><br><span class="line">        numIndexed = writer.numDocs();</span><br><span class="line">        writer.optimize()</span><br><span class="line">        writer.close()</span><br><span class="line">        dir.close()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> numIndexed</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">indexDirectory</span><span class="params">(self, writer, dir)</span>:</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> name <span class="keyword">in</span> os.listdir(dir):</span><br><span class="line">            path = os.path.join(dir, name)</span><br><span class="line">            <span class="keyword">if</span> os.path.isfile(path):</span><br><span class="line">                <span class="keyword">if</span> path.endswith(<span class="string">'.py'</span>):</span><br><span class="line">                    self.indexFile(writer, path)</span><br><span class="line">            <span class="keyword">elif</span> os.path.isdir(path):</span><br><span class="line">                self.indexDirectory(writer, path)</span><br><span class="line">             </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">indexFile</span><span class="params">(self, writer, path)</span>:</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            reader = InputStreamReader(FileInputStream(path), <span class="string">'UTF-8'</span>)</span><br><span class="line">        <span class="keyword">except</span> IOError, e:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">'IOError while opening %s: %s'</span> %(path, e)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">print</span> <span class="string">'Indexing'</span>, path</span><br><span class="line">            doc = Document()</span><br><span class="line">            doc.add(Field(<span class="string">"contents"</span>, reader))</span><br><span class="line">            doc.add(Field(<span class="string">"path"</span>, os.path.abspath(path),</span><br><span class="line">                          Field.Store.YES, Field.Index.NOT_ANALYZED))</span><br><span class="line">            writer.addDocument(doc)</span><br><span class="line">            reader.close()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    initVM(CLASSPATH)</span><br><span class="line">    indexDir = <span class="string">"./index/"</span></span><br><span class="line">    dataDir = <span class="string">"/home/killua/Workspace/"</span></span><br><span class="line">    indexer = Indexer(indexDir, dataDir)</span><br><span class="line">    </span><br><span class="line">    start = time()</span><br><span class="line">    numIndexed = indexer.index()</span><br><span class="line">    duration = timedelta(seconds=time() - start)</span><br><span class="line">    <span class="keyword">print</span> <span class="string">"Indexing %s files took %s"</span> %(numIndexed, duration)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>运行结果：</p>
<p>Indexer.py 将在index目录下建立一些索引文件，用于对.py文件建立索引</p>
<p>二、使用Searcher检索文件</p>
<p>下面程序中实现了对文件的检索，其中参数q是一个表达式，可以理解为检索使用的关键字，如果文件中包含次关键字将被检索出来</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">Created on 2011-11-17</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">@author: killua</span></span><br><span class="line"><span class="string">@E-mail:killua_hzl@163.com</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> timedelta</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> lucene <span class="keyword">import</span> \</span><br><span class="line">     Document, IndexSearcher, FSDirectory, QueryParser, StandardAnalyzer, \</span><br><span class="line">     SimpleFSDirectory, File, Version, initVM, CLASSPATH</span><br><span class="line">     </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Searcher</span><span class="params">(object)</span>:</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span><span class="params">(self, indexDir, q)</span>:</span></span><br><span class="line">        fsDir = SimpleFSDirectory(File(indexDir))</span><br><span class="line">        searcher = IndexSearcher(fsDir, <span class="literal">True</span>)</span><br><span class="line">        query = QueryParser(Version.LUCENE_CURRENT, <span class="string">"contents"</span>,</span><br><span class="line">                            StandardAnalyzer(Version.LUCENE_CURRENT)).parse(q)</span><br><span class="line">        starttime = time()</span><br><span class="line">        hits = searcher.search(query, <span class="number">50</span>).scoreDocs</span><br><span class="line">        duration = timedelta(seconds=time() - starttime)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">print</span> <span class="string">"Found %d document(s) (in%s) that matched query '%s':"</span> %(len(hits), duration, q)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> hit <span class="keyword">in</span> hits:</span><br><span class="line">            doc = searcher.doc(hit.doc)</span><br><span class="line">            <span class="keyword">print</span> <span class="string">'path:'</span>, doc.get(<span class="string">"path"</span>)</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    initVM(CLASSPATH)</span><br><span class="line">    indexDir = <span class="string">"./index/"</span></span><br><span class="line">    q = <span class="string">"Killua"</span></span><br><span class="line">    searcher = Searcher()</span><br><span class="line">    searcher.search(indexDir, q)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.yidooo.net/2011/10/18/lianfan-the-seven-calendar-of-138.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="核动力蜗牛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://en.gravatar.com/userimage/132614578/1525cb3f68df290f2720631caf872dff.jpg?size=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="异度部落格">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/10/18/lianfan-the-seven-calendar-of-138.html" itemprop="url">【IT笔试面试题整理】连翻7张日历之和为138</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-10-18T00:00:00+08:00">
                2011-10-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Interview/" itemprop="url" rel="index">
                    <span itemprop="name">Interview</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>【试题描述】<br>有一名员工发现日历已经7天没有翻了，于是他连着翻了7页，7天的总和刚好是138，问这一天是几号？    </p>
<p>【试题分析】<br>1）假设7天在同一个月，设第一天为X，那么应该满足等差数列之和(2X+6)<em>7/2 = 138,得到的X不为整数，所以应该是跨两个月。<br>2） 假设跨到第二个月1号，那么天数之和应该为(2X+5)</em>6 + 1 = 138,不满足条件<br>3） 假设跨到第二个月2号，那么天数之和应该为(2X+4)*5 + 1 + 2 = 138,满足条件，X为25<br>那么七张日历数字应该为：25,26,27,28,29,1,2；也就是说日历是从闰年的2月25日到3月2日。<br>那么翻日历的那天应该是3月3日。    </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.yidooo.net/2011/10/09/rand7-constructed-by-the-random-function-rand10.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="核动力蜗牛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://en.gravatar.com/userimage/132614578/1525cb3f68df290f2720631caf872dff.jpg?size=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="异度部落格">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/10/09/rand7-constructed-by-the-random-function-rand10.html" itemprop="url">【IT笔试面试题整理】由随机函数rand7构造rand10</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-10-09T00:00:00+08:00">
                2011-10-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Interview/" itemprop="url" rel="index">
                    <span itemprop="name">Interview</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>【试题描述】</p>
<p>已知有个rand7()的函数，返回1到7随机自然数，让利用这个rand7()构造rand10()随机1~10。</p>
<p>【试题分析】</p>
<p>1）要保证rand10()在整数1-10的均匀分布，可以构造一个1-10<em>n的均匀分布的随机整数区间（n为任何正整数）。假设x是这个1-10</em>n区间上的一个随机整数，那么x%10+1就是均匀分布在1-10区间上的整数。</p>
<p>2）接下来利用(rand7()-1)*7+rand7()构造出均匀分布在1-49的随机数：</p>
<p>首先rand7()-1得到一个离散整数集合{0，1，2，3，4，5，6}，其中每个整数的出现概率都是1/7。那么(rand7()-1)<em>7得到一个离散整数集合A={0，7，14，21，28，35，42}，其中每个整数的出现概率也都是1/7。而rand7()得到的集合B={1，2，3，4，5，6，7}中每个整数出现的概率也是1/7。显然集合A和B中任何两个元素组合可以与1-49之间的一个整数一一对应，也就是说1-49之间的任何一个数，可以唯一确定A和B中两个元素的一种组合方式，反过来也成立。由于A和B中元素可以看成是独立事件，根据独立事件的概率公式P(AB)=P(A)P(B)，得到每个组合的概率是1/7</em>1/7=1/49。因此(rand7()-1)*7+rand7()生成的整数均匀分布在1-49之间，每个数的概率都是1/49。</p>
<p>3）由于出现的每个数的出现都是相对独立的，所以剔除41-49后剩下1-40也应该是均匀分布。</p>
<p>【CodeBy C Language】</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">rand10</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">        x = (rand7()<span class="number">-1</span>)*<span class="number">7</span>+rand7();</span><br><span class="line">    &#125;<span class="keyword">while</span>(x &amp;gt; <span class="number">40</span>);</span><br><span class="line">    <span class="keyword">return</span> x % <span class="number">10</span> + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>【参考资料】<br><a href="http://topic.csdn.net/u/20110926/11/AD722874-BCE1-4DFE-ADE1-DC4C7C293FF2.html" target="_blank" rel="noopener">http://topic.csdn.net/u/20110926/11/AD722874-BCE1-4DFE-ADE1-DC4C7C293FF2.html</a><br><a href="http://blog.csdn.net/ljsspace/article/details/6820753&quot;" target="_blank" rel="noopener">http://blog.csdn.net/ljsspace/article/details/6820753&quot;</a><a href="http://blog.csdn.net/ljsspace/article/details/6820753&gt;" target="_blank" rel="noopener">http://blog.csdn.net/ljsspace/article/details/6820753&gt;</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.yidooo.net/2011/09/01/virtualbox-virtual-machine-host-time-synchronization-settings.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="核动力蜗牛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://en.gravatar.com/userimage/132614578/1525cb3f68df290f2720631caf872dff.jpg?size=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="异度部落格">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/09/01/virtualbox-virtual-machine-host-time-synchronization-settings.html" itemprop="url">VirtualBox  虚拟机主机时间不同步设置</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-09-01T00:00:00+08:00">
                2011-09-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Others/" itemprop="url" rel="index">
                    <span itemprop="name">Others</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>用dos进入到VirtualBox的安装目录下，找到VBoxManage.exe</p>
<p>执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">VBoxManage.exe setextradata WinXP_JP &quot;VBoxInternal&#x2F;Devices&#x2F;VMMDev&#x2F;0&#x2F;Config&#x2F;GetHostTimeDisabled&quot; &quot;1″</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.yidooo.net/2011/08/03/python-learning-the-notes-ospath-module.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="核动力蜗牛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://en.gravatar.com/userimage/132614578/1525cb3f68df290f2720631caf872dff.jpg?size=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="异度部落格">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/08/03/python-learning-the-notes-ospath-module.html" itemprop="url">Python学习笔记 OS.Path模块</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-08-03T00:00:00+08:00">
                2011-08-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming/" itemprop="url" rel="index">
                    <span itemprop="name">Programming</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">Created on 2011-8-3</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">@author: Killua</span></span><br><span class="line"><span class="string">@E-mail:killua_hzl@163.com</span></span><br><span class="line"><span class="string">@Description:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用 os.path 模块处理文件名</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">file_path_info</span><span class="params">(filename)</span>:</span></span><br><span class="line">    print(<span class="string">"OS:"</span> + os.name)</span><br><span class="line">    print(<span class="string">"split:"</span>, os.path.split(filename))</span><br><span class="line">    print(<span class="string">"splitext:"</span>, os.path.splitext(filename))</span><br><span class="line">    print(<span class="string">"dirname:"</span>, os.path.basename(filename))</span><br><span class="line">    print(<span class="string">"basename:"</span> + os.path.basename(filename))</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用 os.path 搜索文件系统</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">list_files</span><span class="params">(directory)</span>:</span></span><br><span class="line">    stack = [directory]</span><br><span class="line">    files = []</span><br><span class="line">    <span class="keyword">while</span> stack:</span><br><span class="line">        directory = stack.pop()</span><br><span class="line">        <span class="keyword">for</span> file <span class="keyword">in</span> os.listdir(directory):</span><br><span class="line">            fullname = os.path.join(directory, file)</span><br><span class="line">            files.append(fullname)</span><br><span class="line">            <span class="keyword">if</span> os.path.isdir(fullname) <span class="keyword">and</span> <span class="keyword">not</span> os.path.islink(fullname):</span><br><span class="line">                stack.append(fullname)</span><br><span class="line">    <span class="comment">#List Files</span></span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">        print(file)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment">#Just For Test</span></span><br><span class="line">    <span class="comment">#file_path_info("~/Workspace/MyProject/src/os_path_demo/os_path_demo.py")</span></span><br><span class="line">    list_files(<span class="string">"/home/killua"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.yidooo.net/2011/08/03/python-study-notes-os-modules.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="核动力蜗牛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://en.gravatar.com/userimage/132614578/1525cb3f68df290f2720631caf872dff.jpg?size=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="异度部落格">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/08/03/python-study-notes-os-modules.html" itemprop="url">Python学习笔记 OS模块</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-08-03T00:00:00+08:00">
                2011-08-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming/" itemprop="url" rel="index">
                    <span itemprop="name">Programming</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">Created on 2011-8-1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">@author: Killua</span></span><br><span class="line"><span class="string">@E-mail:killua_hzl@163.com</span></span><br><span class="line"><span class="string">@Description:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用os模块进行文本替换</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">context_replace</span><span class="params">(file, search_for, replace_with, new_file = <span class="string">'new_file'</span>)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment">#remove old temp</span></span><br><span class="line">        os.remove(new_file)</span><br><span class="line">    <span class="keyword">except</span> os.error:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">#open files</span></span><br><span class="line">    fi = open(file)</span><br><span class="line">    fo = open(new_file, <span class="string">'w'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#replace context</span></span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> fi.readlines():</span><br><span class="line">        fo.write(line.replace(search_for, replace_with))</span><br><span class="line"></span><br><span class="line">    <span class="comment">#close files</span></span><br><span class="line">    fi.close()</span><br><span class="line">    fo.close()</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用 os 列出目录下的文件</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">file_list</span><span class="params">(filepath)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> filename <span class="keyword">in</span> os.listdir(filepath):</span><br><span class="line">        print(filename)</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用 os 模块查看当前工作目录</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">current_word_dir</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"Currnet Directory:"</span> + os.getcwd())    </span><br><span class="line"></span><br><span class="line"><span class="comment">#使用 os 模块创建/删除目录</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_dir</span><span class="params">(dir_name)</span>:</span></span><br><span class="line">    os.mkdir(dir_name)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_dir</span><span class="params">(dir_name)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.isdir(dir_name):</span><br><span class="line">        print(<span class="string">"It's not a directory"</span>)</span><br><span class="line">        <span class="keyword">return</span> </span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> len(os.listdir(dir_name)) == <span class="number">0</span>:</span><br><span class="line">            os.rmdir(dir_name)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">"The directory you want to delete is not empty,"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用 os 模块获取文件属性</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_file_info</span><span class="params">(filename)</span>:</span></span><br><span class="line">    file_state = os.stat(filename)</span><br><span class="line">    mode, ino, dev, nlink, uid, gid, size, atime, mtime, ctime = file_state</span><br><span class="line">    print(<span class="string">"size:"</span>, size, <span class="string">"bytes"</span>)</span><br><span class="line">    print(<span class="string">"owner:"</span>, uid, gid)</span><br><span class="line">    print(<span class="string">"created:"</span>, time.ctime(ctime))</span><br><span class="line">    print(<span class="string">"last accessed:"</span>, time.ctime(atime))</span><br><span class="line">    print(<span class="string">"last modified:"</span>, time.ctime(mtime))</span><br><span class="line">    print(<span class="string">"mode:"</span>, oct(mode))</span><br><span class="line">    print(<span class="string">"inode/dev"</span>, ino, dev)</span><br><span class="line"></span><br><span class="line"><span class="comment">#使用 os 执行操作系统命令</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">os_command_excute</span><span class="params">(cmd)</span>:</span></span><br><span class="line">    os_name = os.name </span><br><span class="line">    <span class="keyword">if</span> os_name == <span class="string">"nt"</span>:</span><br><span class="line">        print(<span class="string">"Windows Command"</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">"Unix/Linux Command"</span>)</span><br><span class="line">    os.system(cmd)    </span><br><span class="line"></span><br><span class="line"><span class="comment">#Test</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment">#===Just For Test===</span></span><br><span class="line">    <span class="comment">#context_replace("sample", 'a', 'A')</span></span><br><span class="line">    <span class="comment">#file_list('/')</span></span><br><span class="line">    <span class="comment">#current_word_dir()</span></span><br><span class="line">    <span class="comment">#make_dir('sample_dir')</span></span><br><span class="line">    <span class="comment">#delete_dir('sample_dir')</span></span><br><span class="line">    <span class="comment">#get_file_info("sample") </span></span><br><span class="line">    os_command_excute(<span class="string">"ls -l"</span>)  </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.yidooo.net/2011/07/17/sub-and-function-in-the-difference-between-vb-programming.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="核动力蜗牛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://en.gravatar.com/userimage/132614578/1525cb3f68df290f2720631caf872dff.jpg?size=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="异度部落格">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/07/17/sub-and-function-in-the-difference-between-vb-programming.html" itemprop="url">Sub 与 Function 在VB程序设计中的区别</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-07-17T00:00:00+08:00">
                2011-07-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming/" itemprop="url" rel="index">
                    <span itemprop="name">Programming</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming/VB/" itemprop="url" rel="index">
                    <span itemprop="name">VB</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Private Sub 与 Function 在VB程序设计中的区别<br>function是函数，sub是子程序，都可以传递参数，但函数有返回值，子程序没有<br>function 可以用自身名字返回一个值，sub 需定义别的变量，用传址方式传回值。    </p>
<p>Sub 过程与Function 过程的区别：<br>1． Sub 过程定义时无需定义返回值类型，而Function 过程一般需要用“As 数据类型” 定义函数返回值类型。<br>2． Sub 过程中没有对过程名赋值的语句，而Function 过程中一定有对函数名赋值的语句。<br>3． 调用过程：调用 Sub 过程与 Function 过程不同。调用 Sub 过程的是一个独立的语句，而调用函数过程只是表达式的一部分。Sub 过程还有一点与函数不一样，它不会用名字返回一个值。但是，与 Function过程一样，Sub 过程也可以修改传递给它们的任何变量的值。<br>4． 调用 Sub 过程有两种方法：<br>以下两个语句都调用了名为 MyProc 的 Sub 过程。<br>Call MyProc (FirstArgument, SecondArgument)<br>MyProc FirstArgument, SecondArgument<br>注意当使用 Call 语法时，参数必须在括号内。若省略 Call 关键字，则也必须省略参数两边的括号。    </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.yidooo.net/2011/07/17/the-difference-between-vb-classes-and-modules.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="核动力蜗牛">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://en.gravatar.com/userimage/132614578/1525cb3f68df290f2720631caf872dff.jpg?size=200">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="异度部落格">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/07/17/the-difference-between-vb-classes-and-modules.html" itemprop="url">VB类与模块的区别</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-07-17T00:00:00+08:00">
                2011-07-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming/" itemprop="url" rel="index">
                    <span itemprop="name">Programming</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Programming/VB/" itemprop="url" rel="index">
                    <span itemprop="name">VB</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>类可以实例化为对象，而模块则不能。由于模块的数据只有一个副本，因此当程序的一部分更改模块中的公共变量时，如果程序的其他任何部分随后读取该变量，都会获取同样的值。与之相反，每个实例化对象的对象数据则单独存在。    </p>
<p>类可以被继承，也可以实现接口，模块则不能    </p>
<p>在类中定义的成员其作用范围在类的特定实例内，并且只存在于对象的生存周期内。要从类的外部访问类的成员，必须使用全限名称，格式为Object.Member    </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/11/">&lt;i class&#x3D;&quot;fa fa-angle-left&quot;&gt;&lt;&#x2F;i&gt;</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/13/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="https://en.gravatar.com/userimage/132614578/1525cb3f68df290f2720631caf872dff.jpg?size=200"
                alt="核动力蜗牛" />
            
              <p class="site-author-name" itemprop="name">核动力蜗牛</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7Carchive">
              
                  <span class="site-state-item-count">285</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">30</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">96</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/zhenlohuang" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:zhenlohuang@gmail.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://twitter.com/zhenlohunag" target="_blank" title="Twitter">
                    
                      <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.facebook.com/zhenlohuang" target="_blank" title="FB Page">
                    
                      <i class="fa fa-fw fa-facebook"></i>FB Page</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://stackoverflow.com/users/2945192" target="_blank" title="StackOverflow">
                    
                      <i class="fa fa-fw fa-stack-overflow"></i>StackOverflow</a>
                </span>
              
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">核动力蜗牛</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.3</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  






  
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine@1.1.4/dist/Valine.min.js"></script>
  <script type="text/javascript">
    new Valine({
        av: AV,
        el: '#vcomments' ,
        verify: true,
        notify: true,
        app_id: 'GdWobeifa1Cr5zJubUFLGuA9-gzGzoHsz',
        app_key: 'zkFt8YflR67GWT6cIhKF0tVH',
        placeholder: '欢迎评论'
    });
  </script>



  





  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  

  

  

  

</body>
</html>
